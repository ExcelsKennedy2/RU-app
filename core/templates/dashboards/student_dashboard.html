{% extends 'base.html' %}
{% load static %}
{% block title %}Student Dashboard{% endblock %}
{% block content %}
<h1>Student Dashboard</h1>
<div class="container mt-4">
    <h2>Hello, {{ student.user.first_name }}</h2>
    <p><strong>Program:</strong> {{ student.course }} | <strong>Year:</strong> {{ student.year }}</p>

    {% if current_semester %}
        <p><strong>Semester:</strong> {{ current_semester.name }}</p>
    {% endif %}

    <hr>
    <h4>Registered Courses</h4>
    {% if registered_courses %}
        <ul>
            {% for rc in registered_courses %}
                <li>{{ rc.course.name }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>You haven't registered for any courses this semester yet.</p>
    {% endif %}

    <hr>
    <h4>Available Courses</h4>
    <form method="post">
        {% csrf_token %}
        {% for course in available_courses %}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="course_ids" value="{{ course.id }}" id="course{{ course.id }}">
                <label class="form-check-label" for="course{{ course.id }}">
                    {{ course.name }}
                </label>
            </div>
        {% empty %}
            <p>No courses available for this semester.</p>
        {% endfor %}
        {% if available_courses %}
            <button class="btn btn-primary mt-2" type="submit">Register</button>
        {% endif %}
    </form>
</div>
{% endblock %}
